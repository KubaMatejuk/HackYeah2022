#:import Gradient kivy_gradient.Gradient
#:import Vector kivy.vector.Vector
#:import get_color_from_hex kivy.utils.get_color_from_hex
#:import MapView kivy_garden.mapview.MapView

<WindowManager>:
    WasteOverLogInScreen:
    WasteOverMenu:
    WasteOverMap:

<WasteOverLogInScreen>:
    name: 'logInScreen'
    BoxLayout:
        id: loginBox
        padding: ['20dp', '10dp', '10dp', '10dp']
        spacing: '10dp'
        orientation:'vertical'
        canvas.before:
            Color:
                rgba: 1,1,1,1
            Ellipse:
                pos: [0,0]
                size: 2*self.width, 2*self.height
                texture: Gradient.horizontal(get_color_from_hex("FFD700"), get_color_from_hex("39CE00"))
        AnchorLayout:
            padding: ['100dp', 0, 0, 0]
            MDLabel:
                id: end_text
                top: root.top - 50
                valign: 'middle'
                text: 'Waste Over'
                bold: True
                font_name: 'game_over'
                font_size: '90sp'
                size_hint: None, None
                height: '100dp'
                width: '320dp'
                opacity: 0
            MDLabel:
                id: start_text
                top: root.top - 50
                valign: 'middle'
                text: 'Game Over?'
                bold: True
                font_name: 'game_over'
                font_size: '90sp'
                size_hint: None, None
                height: '100dp'
                width: '320dp'
                opacity: 1
        TextInput:
            id: email
            hint_text: 'Email/Username'
            size_hint:(1, None)
            valign: 'center'
            text_size: root.width, root.height
            height: '30dp'
            background_color: .4, .4, .4, .5
            cursor_color: 1, 1, 1, 1
            foreground_color: 1, 1, 1, 1
            hint_text_color: 1, 1, 1, 1
            use_bubble: True
            font_size: '16sp'
            multiline: False
            write_tab: False
            bold: 1
            on_text_validate: root.login()
        TextInput:
            id: password
            hint_text: 'Password'
            size_hint:(1, None)
            valign: 'center'
            password: True
            text_size: root.width, root.height
            height: '30dp'
            background_color: .4, .4, .4, .5
            cursor_color: 1, 1, 1, 1
            foreground_color: 1, 1, 1, 1
            hint_text_color: 1, 1, 1, 1
            use_bubble: True
            font_size: '16sp'
            multiline: False
            write_tab: False
            bold: 1
            on_text_validate: root.login()
        MDRaisedButton:
            size_hint:(1, None)
            valign: 'center'
            id: sign_in_btn
            text: 'Sign In'
            color: 0, 0, 0, 0
            md_bg_color: 0, 0, 0, 1
            on_press: root.login()
        MDRaisedButton:
            size_hint:(1, None)
            valign: 'center'
            id: reset_password_button
            text: 'Forgot Password?'
            color: 0, 0, 0, 0
            md_bg_color: 0, 0, 0, 1        
        Label:
            valign: 'bottom'
            text: 'or sign up with'
            font_size: '18sp'
            color: 0, 0, 0, 1
        GridLayout:
            padding: 0, 10, 0, 0
            spacing: '25dp'
            size_hint: 1, None
            height: self.minimum_height
            cols: 3
            canvas:
                Color:
                    rgba: .4, .4, .4, 1
                Rectangle:
                    size: self.width, 1
                    pos: self.x, self.y+self.height-1

            AnchorLayout:
                size_hint_y: None
                height: but1.height
                MDIconButton:
                    id: but1
                    icon: "google"
                    user_font_size: "32sp"
                    elevation_normal: 12
                    md_bg_color: .4, .4, .4, .2

            AnchorLayout:
                size_hint_y: None
                height: but2.height
                MDIconButton:
                    id: but2
                    icon: "facebook"
                    user_font_size: "32sp"
                    elevation_normal: 12
                    md_bg_color: .4, .4, .4, .2

            AnchorLayout:
                size_hint_y: None
                height: but3.height
                MDIconButton:
                    id: but3
                    icon: "twitter"
                    user_font_size: "32sp"
                    elevation_normal: 12
                    md_bg_color: .4, .4, .4, .2

<WasteOverMenu>:
    name: 'mainMenu'
    MDRaisedButton:
        id: sign_in_btn
        text: 'Maps'
        color: 0, 0, 0, 0
        md_bg_color: 0, 0, 0, 1
        on_press: root.open_maps()


<WasteOverMap>:
    map: map_ui
    name: 'mapScreen'
    MapView:
        id: map_ui
        lat: 51.11027336343235
        lon: 17.027433148736037
        zoom: 15


<Manager>:
    id: screen_manager

    screen_login: loginScreen
    screen_mainmenu: mainMenu
    screen_map: mapScreen

    ScreenOne:
        id: loginScreen
        name: "loginScreen"
        manager: screen_manager

    ScreenTwo:
        id: mainMenu
        name: "mainMenu"
        manager: screen_manager

    ScreenThree:
        id: mapScreen 
        name: 'mapScreen'
        manager: screen_manager
